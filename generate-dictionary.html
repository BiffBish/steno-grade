<!-- A webpage that allows the upload of a custom json file. Then you can give that file a name click save and then it gets saved under local storage -->
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Custom Dictionary Upload</title>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css"> -->
    <link href="base.css" rel="stylesheet" type="text/css" />
    <link href="style.less" rel="stylesheet/less" type="text/css" />
    <script src="scripts/type-jig.js"></script>
    <script src="scripts/utils/util.js"></script>
    <script src="scripts/utils/steno-display.js"></script>
    <script src="data/plover-translations.js"></script>
    <script src="data/tatoeba-sentences.js"></script>
    <script src="scripts/libs/jquery-3.6.0.min.js"></script>

    <script src="scripts/libs/less.js" ></script>
    <script src="scripts/libs/chart.js"></script>
    <script src="scripts/libs/chartjs-plugin-datalabels.js"></script>
    <script src="scripts/spectra/spectra.js"></script>
    <script src="scripts/spectra/rules.js"></script>
</head>
<body>

    <div class="wrapper">
        <div id="form">
            <h1>
                Custom Dictionary Generation
            </h1>
            <h2 class="subtitle">
                Give me a list of words to translate and I will generate a custom dictionary for you.
            </h2>
            <!-- <form action="" method="" enctype="multipart/form-data"> -->
                <div class="form-section">
                    <input type="text" id="words" name="words" placeholder="Words to translate"/>
                </div>

                <!-- Output -->

                <div class="form-section">
                    <textarea id="output" name="output" placeholder="Output" rows="10" cols="50"></textarea>
                </div>
                </div>
            <div class="field">
                <!-- <div class="clickable-form-section"> -->
                <!-- <div class="control"> -->
                    <button class="button is-primary" id="submit_1" type="submit" name="submit">
                            Generate
                        </div>
                    </button>
                <!-- </div> -->

            </div>
        <!-- </form> -->
        </div>  
    </div>
</body>
<script>
    setTheme();
    //When the user clicks Save the dictionary is saved to local storage
    $(document).ready(function () {
        console.log("Ready");
        console.log($("#submit_1"));
        $("#submit_1").click(function() {
            console.log("Generating dictionary");

            var words = $("#words").val().split("\n");

            var outputList = [];
            for (var i = 0; i < words.length; i++) {
                var word = words[i];
                var outlineList = GenerateOutlinesFromInputRecursively(word, "", 0);
                outputList  = outputList.concat(outlineList);
            }

            var output = outlineList.join("\n");
            
            $("#output").val(output);



        });
    });

</script>
</html>